{% extends 'admin_base.html' %}
{% block title %}Cadastro de Autônomo{% endblock %}
{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Formulário de Cadastro de Autônomo</h1>
        <a href="{{ url_for('admin_listar_autonomos') }}" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Voltar
        </a>
    </div>
    <div class="card shadow">
        <div class="card-body">
            <form method="POST" enctype="multipart/form-data">
                <!-- 1. DADOS PESSOAIS -->
                <h5>1. Dados Pessoais</h5>
                <div class="row g-3 mb-3">
                    <div class="col-md-12"><label class="form-label">Nome Completo</label><input type="text" name="nome_completo" class="form-control" required></div>
                    <div class="col-md-4"><label class="form-label">CPF</label><input type="text" name="cpf" class="form-control" required></div>
                    <div class="col-md-4"><label class="form-label">RG</label><input type="text" name="rg" class="form-control"></div>
                    <div class="col-md-2"><label class="form-label">Órgão Expedidor</label><input type="text" name="orgao_expedidor" class="form-control"></div>
                    <div class="col-md-2"><label class="form-label">UF</label><input type="text" name="uf_rg" class="form-control"></div>
                    <div class="col-md-6"><label class="form-label">Data de Nascimento</label><input type="date" name="data_nascimento" class="form-control"></div>
                    <div class="col-md-6"><label class="form-label">Sexo</label><select name="sexo" class="form-select"><option>Masculino</option><option>Feminino</option><option>Outro</option></select></div>
                </div>
                <hr>
                <!-- 2. CONTATO -->
                <h5>2. Contato</h5>
                <div class="row g-3 mb-3">
                    <div class="col-md-6"><label class="form-label">Telefone Celular</label><input type="text" name="telefone_celular" class="form-control"></div>
                    <div class="col-md-6"><label class="form-label">E-mail</label><input type="email" name="email" class="form-control"></div>
                </div>
                <hr>
                <!-- 3. ENDEREÇO -->
                <h5>3. Endereço do Local de Atendimento</h5>
                <div class="mb-3"><label class="form-label">Endereço Completo (com nº, bairro, etc.)</label><input type="text" name="endereco_atendimento" class="form-control"></div>
                <div class="mb-3"><label class="form-label">O local é:</label><select name="tipo_local" class="form-select"><option>Residência</option><option>Sala comercial</option><option>Sala compartilhada</option><option>Outro</option></select></div>
                <hr>
                <!-- 4. DADOS PROFISSIONAIS -->
                <h5>4. Dados Profissionais</h5>
                <div class="row g-3 mb-3">
                    <div class="col-md-6"><label class="form-label">Profissão</label><input type="text" name="profissao" class="form-control"></div>
                    <div class="col-md-6"><label class="form-label">Conselho de Classe</label><input type="text" name="conselho_classe" class="form-control"></div>
                    <div class="col-md-6"><label class="form-label">Nº do Registro Profissional</label><input type="text" name="numero_registro_profissional" class="form-control"></div>
                    <div class="col-md-6"><label class="form-label">Nº de Inscrição Municipal</label><input type="text" name="inscricao_municipal" class="form-control"></div>
                    <div class="col-md-12"><label class="form-label">Atividade(s) Exercida(s)</label><textarea name="atividades_exercidas" class="form-control" rows="3"></textarea></div>
                    <div class="col-md-12"><label class="form-label">Modalidade de Atendimento</label><div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="modalidade_atendimento" id="local_fisico" value="Local Físico" checked><label class="form-check-label" for="local_fisico">Local Físico</label></div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="modalidade_atendimento" id="delivery" value="Delivery"><label class="form-check-label" for="delivery">Delivery</label></div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="modalidade_atendimento" id="online" value="Online"><label class="form-check-label" for="online">Online</label></div></div></div>
                    <div class="col-md-12"><label class="form-label">Horário de Funcionamento</label><textarea name="horario_funcionamento" class="form-control" rows="3" placeholder="Segunda a Sexta: 08:00 - 18:00&#10;Sábado: 09:00 - 13:00"></textarea></div>
                </div>
                <hr>
                <!-- 6. DOCUMENTAÇÃO ANEXADA -->
                <h5>6. Documentação Anexada</h5>
                <div class="mb-3">
                    <div class="row mb-2 align-items-center"><div class="col-md-6"><label for="doc_alvara_funcionamento" class="form-label mb-0">Alvará de Funcionamento (Prefeitura) <span class="text-danger">*</span></label></div><div class="col-md-6"><input class="form-control" type="file" name="doc_alvara_funcionamento" id="doc_alvara_funcionamento" required></div></div>
                    <hr class="my-3">
                    {% set docs = [('doc_cpf_rg', 'Cópia do CPF e RG'), ('doc_comprovante_endereco', 'Comprovante de endereço'), ('doc_registro_conselho', 'Registro no conselho de classe ou Certificado'), ('doc_declaracao_rt', 'Declaração de responsabilidade técnica'), ('doc_declaracao_atividades', 'Declaração de atividades exercidas'), ('doc_termo_compromisso', 'Termo de compromisso sanitário')] %}
                    {% for name, label in docs %}<div class="row mb-2 align-items-center"><div class="col-md-6"><label for="{{ name }}" class="form-label mb-0">{{ label }}</label></div><div class="col-md-6"><input class="form-control" type="file" name="{{ name }}" id="{{ name }}"></div></div>{% endfor %}
                </div>
                <button type="submit" class="btn btn-primary w-100 btn-lg">Enviar Cadastro</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
