{% extends 'layout.html' %}
{% block title %}Cadastro de Pessoa Física{% endblock %}
{% block content %}
<div class="container mt-4 mb-5">
    <div class="card shadow">
        <div class="card-header text-center bg-primary text-white">
            <h4>Formulário de Cadastro de Pessoa Física</h4>
            <p class="mb-0">Para Finalidades Sanitárias Não Econômicas</p>
        </div>
        <div class="card-body">
            <form method="POST">
                <!-- 1. IDENTIFICAÇÃO DO RESPONSÁVEL -->
                <h5>1. Identificação do Responsável pelo Local</h5>
                <div class="row g-3 mb-3">
                    <div class="col-md-12"><label class="form-label">Nome Completo</label><input type="text" name="nome_completo" class="form-control" required></div>
                    <div class="col-md-4"><label class="form-label">CPF</label><input type="text" name="cpf" class="form-control" required></div>
                    <div class="col-md-3"><label class="form-label">RG</label><input type="text" name="rg" class="form-control"></div>
                    <div class="col-md-2"><label class="form-label">Órgão Expedidor</label><input type="text" name="orgao_expedidor" class="form-control"></div>
                    <div class="col-md-1"><label class="form-label">UF</label><input type="text" name="uf_rg" class="form-control"></div>
                    <div class="col-md-6"><label class="form-label">Data de Nascimento</label><input type="date" name="data_nascimento" class="form-control"></div>
                    <div class="col-md-6"><label class="form-label">Telefone de Contato</label><input type="text" name="telefone_contato" class="form-control"></div>
                    <div class="col-md-12"><label class="form-label">E-mail</label><input type="email" name="email" class="form-control"></div>
                </div>
                <hr>
                <!-- 2. ENDEREÇO DO LOCAL -->
                <h5>2. Endereço do Local a ser Cadastrado</h5>
                <div class="mb-3"><label class="form-label">Endereço Completo (com nº, bairro, cidade, UF, CEP)</label><input type="text" name="endereco_local" class="form-control"></div>
                <div class="mb-3"><label class="form-label">Tipo de local</label><select name="tipo_local" class="form-select"><option>Residência</option><option>Terreno baldio</option><option>Construção parada</option><option>Local de criadouro de vetores</option><option>Outro</option></select></div>
                <hr>
                <!-- 3. SITUAÇÃO DO LOCAL -->
                <h5>3. Situação do Local (Opcional)</h5>
                <div class="mb-3">
                    {% set situacoes = ['Já recebeu notificação anterior', 'Já foi objeto de denúncia', 'Já recebeu visita da Vigilância Sanitária'] %}
                    {% for situacao in situacoes %}
                    <div class="form-check"><input class="form-check-input" type="checkbox" name="situacao_local" value="{{ situacao }}" id="sit_{{ loop.index }}"><label class="form-check-label" for="sit_{{ loop.index }}">{{ situacao }}</label></div>
                    {% endfor %}
                    <label class="form-label mt-2">Observações Adicionais</label><textarea name="observacoes" class="form-control" rows="3"></textarea>
                </div>
                <hr>
                <!-- 4. FINALIDADE DO CADASTRO -->
                <h5>4. Finalidade do Cadastro</h5>
                <div class="mb-3">
                    {% set finalidades = ['Vínculo com denúncia recebida', 'Ação fiscalizatória por iniciativa da Vigilância', 'Atendimento de solicitação do cidadão'] %}
                    {% for finalidade in finalidades %}
                    <div class="form-check"><input class="form-check-input" type="checkbox" name="finalidade_cadastro" value="{{ finalidade }}" id="fin_{{ loop.index }}"><label class="form-check-label" for="fin_{{ loop.index }}">{{ finalidade }}</label></div>
                    {% endfor %}
                    <div class="form-check d-flex align-items-center mt-2">
                        <input class="form-check-input" type="checkbox" name="finalidade_cadastro" value="Outro_finalidade" id="fin_outro">
                        <label class="form-check-label me-2" for="fin_outro">Outro:</label>
                        <input type="text" class="form-control form-control-sm" name="finalidade_outro_texto" placeholder="Especificar">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary w-100 btn-lg mt-4">Enviar Cadastro</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
